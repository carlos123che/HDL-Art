<app-navbar-logged></app-navbar-logged>
<div class="container">
  <div class="row">
    <div class="col-md-4 mt-5">
      <div class="card border-0 shadow p-3">
        <div class="form-floating mb-3">
          <h5 class="text-center text-dark">Add Picture</h5>
        </div>
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="title" name="title" [(ngModel)]="title" />
          <label for="title">Title</label>
        </div>
        <div class="form-floating mb-3">
          <mat-form-field appearance="fill">
            <mat-label>Category</mat-label>
            <mat-select [(ngModel)]="category" multiple>
              <mat-option *ngFor="let category of categoryList" [value]="category.category">
                {{ category.category }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="series" name="series" [(ngModel)]="series" />
          <label for="email">Series</label>
        </div>
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="price" name="price" [(ngModel)]="price" />
          <label for="mobile">Price</label>
        </div>
        <div class="form-floating mb-3">
          <input type="textarea" class="form-control" id="materials" name="materials" [(ngModel)]="materials" />
          <label for="mobile">Materials</label>
        </div>
        <div class="form-floating mb-3">
          <input type="file" name="file" id="file" class="text-nowrap text-truncate" (change)="selectedFile($event)">
        </div>
        <div class="progress mt-2">
          <div class="progress-bar progress-bar-info" role="progressbar" attr.aria-valuenow="{{percentage}}" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{width: percentage + '%'}">
            {{percentage}}
          </div>
        </div>
        <button type="button" class="btn btn-outline-primary" (click)="addPicture()">Add Picture</button>
      </div>
    </div>

    <div class="col-md-8 mt-5">
      <h5 class="text-dark">Picture List</h5>
      <div class="card p-3 shadow">
        <div class="card-body">
          <table class="table table-hover">
            <thead>
              <tr>
                <th scope="col">Title</th>
                <th scope="col">Series</th>
                <th scope="col">Category</th>
                <th scope="col">Price</th>
                <th scope="col">Materials</th>
                <th scope="col">Image</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let picture of picturesList">
                <td>{{picture.title}}</td>
                <td>{{picture.series}}</td>
                <td>{{picture.category.join(', ')}}</td>
                <td>{{picture.price}}</td>
                <td>{{picture.materials}}</td>
                <td><img src="{{picture.url}}" alt="file" style="width: 10em; height: 10em;"></td>
                <td><button class="btn btn-outline-danger" (click)="deletePicture(picture)">Delete</button></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
